{% extends "base.html" %}
{% load static %}

{% block title %}ê°•ì˜ ëª©ë¡ | DORO LMS{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/course_list.css' %}">
{% endblock %}

{% block content %}
<section class="hero">
  <div class="hero-inner">
    <h1 class="hero-title">ê°•ì˜ ëª©ë¡</h1>
  </div>
</section>

<main class="card-wrap">
  <div class="card-inner">

    <section class="course-list-card">
      <div class="card-header">
        <h2 class="card-title">ê°•ì˜ ëª©ë¡</h2>

        {% if request.user.is_authenticated %}
          {% if request.user.role == "instructor" or request.user.role == "manager" %}
          <a href="{% url 'course:course_create' %}" class="btn-primary btn-sm">
            â• ê°•ì˜ ë“±ë¡
          </a>
          {% endif %}
        {% endif %}
      </div>

      {% if courses %}
      <!-- ê°•ì˜ ëª©ë¡ í…Œì´ë¸” -->
      <div class="table-wrap">
        <table class="course-table">
          <thead>
            <tr>
              <th>ë²ˆí˜¸</th>
              <th>ê°•ì˜ëª…</th>
              <th>ê°•ì‚¬</th>
              <th>ë“±ë¡ì¼</th>
              <th>ì¡°íšŒìˆ˜</th>
            </tr>
          </thead>
          <tbody>
            {% for course in courses %}
            <tr>
              <td class="col-index">{{ forloop.counter }}</td>
              <td class="col-title">
                <a href="{% url 'course:course_detail' course.course_id %}">
                  {{ course.title }}
                </a>
              </td>
              <td class="col-instructor">{{ course.instructor.name }}</td>
              <td class="col-date">{{ course.created_at|date:"Y-m-d" }}</td>
              <td class="col-views">{{ course.views }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% else %}
      <!-- ë¹„ì–´ ìˆì„ ë•Œ -->
      <div class="empty-state">
        <div class="emoji">ğŸ“š</div>
        <p class="empty-title">ë“±ë¡ëœ ê°•ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>

        {% if request.user.is_authenticated %}
          {% if request.user.role == "instructor" or request.user.role == "manager" %}
          <p class="empty-desc">ì²« ê°•ì˜ë¥¼ ë“±ë¡í•´ ìˆ˜ê°•ìƒë“¤ì—ê²Œ ì½˜í…ì¸ ë¥¼ ì œê³µí•´ ë³´ì„¸ìš”.</p>
          <a href="{% url 'course:course_create' %}" class="btn-primary">
            ì²« ê°•ì˜ ë“±ë¡í•˜ê¸°
          </a>
          {% endif %}
        {% endif %}
      </div>
      {% endif %}

    </section>

  </div>
</main>
{% endblock %}
